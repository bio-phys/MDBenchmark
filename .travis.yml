language: generic
sudo: false

branches:
  only:
    - develop
    - master

env:
  global:
    - PYTHON_VERSION=3.6
  matrix:
    - PYTHON_VERSION=3.5
    - PYTHON_VERSION=3.6
    - PYTHON_VERSION=2.7

matrix:
  fast_finish: true
  include:
    - os: osx
      env: PYTHON_VERSION=2.7

    # - os: linux
    #   env: PIP_DEPENDENCIES="restructuredtext_lint"
    #        MAIN_CMD="rst-lint README.rst"
    #        SETUP_CMD=""

install:
  - pip install --upgrade pipenv
  - pipenv install --dev .

script:
  - pipenv run pytest --cov mdbenchmark --pep8

after_success:
  - codecov
